<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Presentation – Class Slider Evaluator</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config={theme:{extend:{fontFamily:{sans:["Inter","ui-sans-serif","system-ui"]}}}};</script>
  <!-- Firebase SDKs (Compat for simplicity) -->
  <script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <style>
    .card{ background:#fff;border-radius:1rem;box-shadow:0 1px 6px rgba(0,0,0,.08);padding:1.25rem;}
    .btn{ padding:.5rem 1rem;border-radius:.75rem;box-shadow:0 1px 4px rgba(0,0,0,.08);font-size:.9rem;font-weight:600;background:#111;color:#fff;}
    .btn-ghost{ padding:.5rem .75rem;border-radius:.75rem;font-size:.9rem;font-weight:600;}
    .tab{ padding:.5rem 1rem;border-radius:.75rem;font-size:.9rem;font-weight:700;cursor:pointer;}
    .tab-active{ background:#111;color:#fff;}
    dialog::backdrop{ background: rgba(0,0,0,0.45); }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="max-w-5xl mx-auto p-4">
    <header class="flex items-center justify-between mb-3">
      <h1 class="text-2xl font-bold">Presentation – Class Slider Evaluator</h1>
      <div class="flex items-center gap-2">
        <span id="connectionBadge" class="text-xs px-2 py-1 rounded-full bg-gray-100">offline (local)</span>
        <button id="gearBtn" class="btn-ghost" title="Teacher tools">⚙️</button>
      </div>
    </header><nav class="mb-3 flex gap-2">
  <button class="tab tab-active" data-tab="join">Join</button>
  <button class="tab tab-inactive" data-tab="rate">Rate</button>
  <button class="tab tab-inactive" data-tab="results">Results</button>
</nav>

<main class="grid md:grid-cols-3 gap-4">
  <section class="md:col-span-1 card">
    <div class="flex items-center justify-between mb-2">
      <h2 class="font-semibold">Roster</h2>
      <button id="refreshRoster" class="btn-ghost text-xs">Refresh</button>
    </div>
    <ul id="rosterList" class="space-y-2 text-sm"></ul>
    <div class="text-xs text-gray-500 mt-3">Tap your name to go to Rate.</div>
  </section>

  <section class="md:col-span-1 space-y-4">
    <div id="joinTab" class="card">
      <h2 class="font-semibold mb-2">Join</h2>
      <label class="block text-sm mb-1">Your name</label>
      <input id="nameInput" class="w-full border rounded-xl px-3 py-2" placeholder="e.g., Jane S." />
      <div class="flex items-center gap-2 mt-3">
        <button id="joinBtn" class="btn">Join class</button>
        <span id="joinStatus" class="text-sm"></span>
      </div>
    </div>

    <div id="rateTab" class="card hidden">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold">Rate (1–10)</h2>
        <div class="text-sm">You: <span id="whoami" class="font-semibold">—</span></div>
      </div>
      <div id="criteriaList" class="mt-3 space-y-4"></div>
      <div class="mt-3 text-right text-sm">Your total: <span id="totalScore" class="font-semibold">0</span></div>
    </div>
  </section>

  <section class="md:col-span-1 card" id="resultsTab">
    <div class="flex items-center justify-between mb-2">
      <h2 class="font-semibold">Results (Averages)</h2>
      <button id="exportBtn" class="btn-ghost text-xs">CSV</button>
    </div>
    <div id="resultsSummary" class="space-y-2 text-sm"></div>
    <div class="border-t mt-3 pt-3 text-sm">
      <div class="flex items-center justify-between">
        <div class="font-semibold">Final average</div>
        <div class="font-bold text-lg" id="finalAverage">0.00</div>
      </div>
    </div>
  </section>
</main>

  </div>  <dialog id="teacherDlg" class="rounded-2xl w-full max-w-sm">
    <form method="dialog" class="p-5 space-y-4">
      <h3 class="text-lg font-semibold">Teacher Tools</h3>
      <label class="block text-sm">Enter PIN to unlock reset</label>
      <input id="pinInput" type="password" class="w-full border rounded-xl px-3 py-2" placeholder="PIN" />
      <div class="flex items-center gap-2">
        <button id="unlockBtn" class="btn" value="unlock">Unlock</button>
        <button class="btn-ghost" value="cancel">Close</button>
      </div>
      <div id="teacherActions" class="hidden border-t pt-3">
        <button id="resetScores" class="btn w-full">Reset scores (keep roster)</button>
        <button id="resetAll" class="btn-ghost w-full mt-2">Reset ALL (scores + roster)</button>
      </div>
    </form>
  </dialog>  <script>
    const CONFIG = {
      classKey: "chem_presentation",
      teacherPin: "2468",
      useFirebase: true,
      firebaseConfig: {
        apiKey: "AIzaSyAal8uHe9nePGimXiRPZAnBl0ucQlKnXNo",
        authDomain: "presentation-83d1f.firebaseapp.com",
        databaseURL: "https://presentation-83d1f-default-rtdb.firebaseio.com",
        projectId: "presentation-83d1f",
        storageBucket: "presentation-83d1f.firebasestorage.app",
        messagingSenderId: "132406143951",
        appId: "1:132406143951:web:9695690023bd3f2aedc0ba"
      },
      criteria: [
        { id: uid(), label: "Content Accuracy" },
        { id: uid(), label: "Clarity" },
        { id: uid(), label: "Visuals" },
        { id: uid(), label: "Engagement" },
        { id: uid(), label: "Delivery" }
      ]
    };
  </script></body>
</html>